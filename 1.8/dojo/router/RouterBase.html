
<div style="display:none" class="jsdoc-permalink">/api/1.8/dojo/router/RouterBase</div>
<h1 class="constructorIcon36 jsdoc-title">dojo/router/RouterBase<span style="font-size:11px;color:#999;"> (version 1.8)</span></h1>
<div class="jsdoc-full-summary"><p>A module that allows one to easily map hash-based structures into
callbacks. The router module is a singleton, offering one central
point for all registrations of this type.</p>
</div>
<div class="jsdoc-function-information"> 
  <h3>Usage:</h3>
  <div class="function-signature"><span class="keyword">var</span> foo = new dojo/router/RouterBase<span class="parameters">(kwArgs);</span></div>
</div>
<div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.8/dojo/router/RouterBase">dojo/router/RouterBase</a></div>
<table class="jsdoc-parameters">
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="jsdoc-param-name">kwArgs</td>
    <td class="jsdoc-param-type">undefined</td>
    <td class="jsdoc-param-description">
    </td>
  </tr>
</table>
<p>See the <a href="/reference-guide/1.8/dojo/router.html" target="_blank">dojo/router/RouterBase reference documentation</a> for more information.</p>
<div class="jsdoc-children">
  <div class="jsdoc-fieldlist"></div>
</div>
<div class="jsdoc-examples">
  <h2>Examples</h2>
  <div class="jsdoc-example">
    <h3>Example 1</h3><pre><code>  var router = new RouterBase({});
  router.register(&quot;/widgets/:id&quot;, function(evt){
    // If &quot;/widgets/3&quot; was matched,
    // evt.params.id === &quot;3&quot;
    xhr.get({
      url: &quot;/some/path/&quot; + evt.params.id,
      load: function(data){
        // ...
      }
    });
  });</code></pre>

  </div>
</div>
<h2 class="jsdoc-summary-heading">Property Summary<span class="jsdoc-summary-toggle"></span></h2>
<div class="jsdoc-summary-list">
  <ul class="jsdoc-property-list">
    <li class="stringIcon private"><a href="#1_8dojo_router_RouterBase__currentPath" class="inline-link"> _currentPath </a><span></span><span title="private" class="jsdoc-private"></span>
    </li>
    <li class="objectIcon private"><a href="#1_8dojo_router_RouterBase__routeIndex" class="inline-link"> _routeIndex </a><span></span><span title="private" class="jsdoc-private"></span>
    </li>
    <li class="objectIcon private"><a href="#1_8dojo_router_RouterBase__routes" class="inline-link"> _routes </a><span></span><span title="private" class="jsdoc-private"></span>
    </li>
    <li class="booleanIcon private"><a href="#1_8dojo_router_RouterBase__started" class="inline-link"> _started </a><span></span><span title="private" class="jsdoc-private"></span>
    </li>
    <li class="regexpIcon"><a href="#1_8dojo_router_RouterBase_globMatch" class="inline-link"> globMatch </a><span></span>
    </li>
    <li class="stringIcon"><a href="#1_8dojo_router_RouterBase_globReplacement" class="inline-link"> globReplacement </a><span></span>
    </li>
    <li class="regexpIcon"><a href="#1_8dojo_router_RouterBase_idMatch" class="inline-link"> idMatch </a><span></span>
    </li>
    <li class="stringIcon"><a href="#1_8dojo_router_RouterBase_idReplacement" class="inline-link"> idReplacement </a><span></span>
    </li>
  </ul>
</div>
<h2 class="jsdoc-summary-heading">Method Summary<span class="jsdoc-summary-toggle"></span></h2>
<div class="jsdoc-summary-list">
  <ul class="jsdoc-property-list">
    <li class="functionIcon private"><a href="#1_8dojo_router_RouterBase__convertRouteToRegExp" class="inline-link"> _convertRouteToRegExp</a><span class="parameters">(</span>route) <span></span><span title="private" class="jsdoc-private"> </span>
    </li>
    <li class="functionIcon private"><a href="#1_8dojo_router_RouterBase__getParameterNames" class="inline-link"> _getParameterNames</a><span class="parameters">(</span>route) <span></span><span title="private" class="jsdoc-private"> </span>
    </li>
    <li class="functionIcon private"><a href="#1_8dojo_router_RouterBase__handlePathChange" class="inline-link"> _handlePathChange</a><span class="parameters">(</span>newPath) <span></span><span title="private" class="jsdoc-private"> </span>
    </li>
    <li class="functionIcon private"><a href="#1_8dojo_router_RouterBase__indexRoutes" class="inline-link"> _indexRoutes</a><span class="parameters">(</span>) <span></span><span title="private" class="jsdoc-private"> </span>
    </li>
    <li class="functionIcon private"><a href="#1_8dojo_router_RouterBase__registerRoute" class="inline-link"> _registerRoute</a><span class="parameters">(</span>route, callback, isBefore) <span></span><span title="private" class="jsdoc-private"> </span>
    </li>
    <li class="functionIcon "><a href="#1_8dojo_router_RouterBase_constructor" class="inline-link"> constructor</a><span class="parameters">(</span>kwArgs) <span></span>
    </li>
    <li class="functionIcon "><a href="#1_8dojo_router_RouterBase_go" class="inline-link"> go</a><span class="parameters">(</span>path, replace) <span>A simple pass-through to make changing the hash easy,
without having to require dojo/hash directly.</span>
    </li>
    <li class="functionIcon "><a href="#1_8dojo_router_RouterBase_register" class="inline-link"> register</a><span class="parameters">(</span>route, callback) <span>Registers a route to a handling callback</span>
    </li>
    <li class="functionIcon "><a href="#1_8dojo_router_RouterBase_registerBefore" class="inline-link"> registerBefore</a><span class="parameters">(</span>route, callback) <span>Registers a route to a handling callback, except before
any previously registered callbacks</span>
    </li>
    <li class="functionIcon "><a href="#1_8dojo_router_RouterBase_startup" class="inline-link"> startup</a><span class="parameters">(</span>) <span>This method must be called to activate the router.</span>
    </li>
  </ul>
</div>
<div class="jsdoc-children">
  <div class="jsdoc-fields">
    <h2>Properties</h2>
    <div class="jsdoc-property-list">
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase__currentPath"></a><span class="stringIcon">_currentPath</span><span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance">Defined by: <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
      </div>
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase__routeIndex"></a><span class="objectIcon">_routeIndex</span><span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance">Defined by: <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
      </div>
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase__routes"></a><span class="objectIcon">_routes</span><span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance">Defined by: <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
      </div>
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase__started"></a><span class="booleanIcon">_started</span><span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance">Defined by: <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
      </div>
      <div class="jsdoc-field public">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase_globMatch"></a><span class="regexpIcon">globMatch</span>
        </div>
        <div class="jsdoc-inheritance">Defined by: <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
      </div>
      <div class="jsdoc-field public">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase_globReplacement"></a><span class="stringIcon">globReplacement</span>
        </div>
        <div class="jsdoc-inheritance">Defined by: <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
      </div>
      <div class="jsdoc-field public">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase_idMatch"></a><span class="regexpIcon">idMatch</span>
        </div>
        <div class="jsdoc-inheritance">Defined by: <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
      </div>
      <div class="jsdoc-field public">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase_idReplacement"></a><span class="stringIcon">idReplacement</span>
        </div>
        <div class="jsdoc-inheritance">Defined by: <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
      </div>
    </div>
    <h2>Methods</h2>
    <div class="jsdoc-property-list">
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase__convertRouteToRegExp"></a><span class="functionIcon">_convertRouteToRegExp</span><span class="parameters">(route)</span> <span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
        <div class="jsdoc-full-summary"></div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">route</td>
            <td class="jsdoc-param-type">undefined</td>
            <td class="jsdoc-param-description">
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">instance</span></div>
      </div>
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase__getParameterNames"></a><span class="functionIcon">_getParameterNames</span><span class="parameters">(route)</span> <span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
        <div class="jsdoc-full-summary"></div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">route</td>
            <td class="jsdoc-param-type">undefined</td>
            <td class="jsdoc-param-description">
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">null</span></div>
      </div>
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase__handlePathChange"></a><span class="functionIcon">_handlePathChange</span><span class="parameters">(newPath)</span> <span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
        <div class="jsdoc-full-summary"></div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">newPath</td>
            <td class="jsdoc-param-type">undefined</td>
            <td class="jsdoc-param-description">
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">undefined</span></div>
      </div>
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase__indexRoutes"></a><span class="functionIcon">_indexRoutes</span><span class="parameters">()</span> <span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
        <div class="jsdoc-full-summary"></div>
      </div>
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase__registerRoute"></a><span class="functionIcon">_registerRoute</span><span class="parameters">(route, callback, isBefore)</span> <span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
        <div class="jsdoc-full-summary"></div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">route</td>
            <td class="jsdoc-param-type">String | RegExp</td>
            <td class="jsdoc-param-description">
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">callback</td>
            <td class="jsdoc-param-type">Function</td>
            <td class="jsdoc-param-description">
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">isBefore</td>
            <td class="jsdoc-param-type">Boolean</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div>
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">Object</span></div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase_constructor"></a><span class="functionIcon">constructor</span><span class="parameters">(kwArgs)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
        <div class="jsdoc-full-summary"></div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">kwArgs</td>
            <td class="jsdoc-param-type">undefined</td>
            <td class="jsdoc-param-description">
            </td>
          </tr>
        </table>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase_go"></a><span class="functionIcon">go</span><span class="parameters">(path, replace)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
        <div class="jsdoc-full-summary"><p>A simple pass-through to make changing the hash easy,
without having to require dojo/hash directly. It also
synchronously fires off any routes that match.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">path</td>
            <td class="jsdoc-param-type">undefined</td>
            <td class="jsdoc-param-description">
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">replace</td>
            <td class="jsdoc-param-type">undefined</td>
            <td class="jsdoc-param-description">
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">undefined</span></div>
        <div class="jsdoc-examples">
          <h2>Examples</h2>
          <div class="jsdoc-example">
            <h3>Example 1</h3><pre><code>  router.go(&quot;/foo/bar&quot;);</code></pre>

          </div>
        </div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase_register"></a><span class="functionIcon">register</span><span class="parameters">(route, callback)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
        <div class="jsdoc-full-summary"><p>Registers a route to a handling callback</p>
</div>
        <div class="jsdoc-full-summary"><p>Given either a string or a regular expression, the router
will monitor the page&#39;s hash and respond to changes that
match the string or regex as provided.

</p>
<p>When provided a regex for the route:

</p>
<ul>
<li>Matching is performed, and the resulting capture groups
are passed through to the callback as an array.</li>
</ul>
<p>When provided a string for the route:

</p>
<ul>
<li>The string is parsed as a URL-like structure, like
&quot;/foo/bar&quot;</li>
<li>If any portions of that URL are prefixed with a colon
(:), they will be parsed out and provided to the callback
as properties of an object.</li>
<li>If the last piece of the URL-like structure is prefixed
with a star (*) instead of a colon, it will be replaced in
the resulting regex with a greedy (.+) match and
anything remaining on the hash will be provided as a
property on the object passed into the callback. Think of
it like a basic means of globbing the end of a route.</li>
</ul>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">route</td>
            <td class="jsdoc-param-type">String | RegExp</td>
            <td class="jsdoc-param-description"><p>A string or regular expression which will be used when
monitoring hash changes.</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">callback</td>
            <td class="jsdoc-param-type">Function</td>
            <td class="jsdoc-param-description"><p>When the hash matches a pattern as described in the route,
this callback will be executed. It will receive an event
object that will have several properties:

</p>
<ul>
<li>params: Either an array or object of properties pulled
from the new hash</li>
<li>oldPath: The hash in its state before the change</li>
<li>newPath: The new hash being shifted to</li>
<li>preventDefault: A method that will stop hash changes
from being actually applied to the active hash. This only
works if the hash change was initiated using <code>router.go</code>,
as changes initiated more directly to the location.hash
property will already be in place</li>
<li>stopImmediatePropagation: When called, will stop any
further bound callbacks on this particular route from
being executed. If two distinct routes are bound that are
different, but both happen to match the current hash in
some way, this will <em>not</em> keep other routes from receiving
notice of the change.</li>
</ul>
 
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">Object | undefined</span></div>
        <div class="jsdoc-return-description">A plain JavaScript object to be used as a handle for
either removing this specific callback's registration, as
well as to add new callbacks with the same route initially
used.</div>
        <div class="jsdoc-examples">
          <h2>Examples</h2>
          <div class="jsdoc-example">
            <h3>Example 1</h3><pre><code>  router.register(&quot;/foo/:bar/*baz&quot;, function(object){
    // If the hash was &quot;/foo/abc/def/ghi&quot;,
    // object.bar === &quot;abc&quot;
    // object.baz === &quot;def/ghi&quot;
  });</code></pre>

          </div>
        </div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase_registerBefore"></a><span class="functionIcon">registerBefore</span><span class="parameters">(route, callback)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
        <div class="jsdoc-full-summary"><p>Registers a route to a handling callback, except before
any previously registered callbacks</p>
</div>
        <div class="jsdoc-full-summary"><p>Much like the <code>register</code> method, <code>registerBefore</code> allows
us to register route callbacks to happen before any
previously registered callbacks. See the documentation for
<code>register</code> for more details and examples.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">route</td>
            <td class="jsdoc-param-type">String | RegExp</td>
            <td class="jsdoc-param-description">
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">callback</td>
            <td class="jsdoc-param-type">Function</td>
            <td class="jsdoc-param-description">
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">undefined</span></div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojo_router_RouterBase_startup"></a><span class="functionIcon">startup</span><span class="parameters">()</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/router/RouterBase" class="jsdoc-link">dojo/router/RouterBase</a>
        </div>
        <div class="jsdoc-full-summary"><p>This method must be called to activate the router. Until
startup is called, no hash changes will trigger route
callbacks.</p>
</div>
      </div>
    </div>
  </div>
</div>