
<div style="display:none" class="jsdoc-permalink">/api/1.8/dojo/parser</div>
<h1 class="objectIcon36 jsdoc-title">dojo/parser<span style="font-size:11px;color:#999;"> (version 1.8)</span></h1>
<div class="jsdoc-full-summary"><p>The Dom/Widget parsing package</p>
</div>
<p>See the <a href="/reference-guide/1.8/dojo/parser.html" target="_blank">dojo/parser reference documentation</a> for more information.</p>
<div class="jsdoc-children">
  <div class="jsdoc-fieldlist"></div>
</div>
<h2 class="jsdoc-summary-heading">Property Summary<span class="jsdoc-summary-toggle"></span></h2>
<div class="jsdoc-summary-list">
  <ul class="jsdoc-property-list">
    <li class="objectIcon private"><a href="#1_8dojo_parser__attrName" class="inline-link"> _attrName </a><span></span><span title="private" class="jsdoc-private"></span>
    </li>
    <li class="objectIcon private"><a href="#1_8dojo_parser__query" class="inline-link"> _query </a><span></span><span title="private" class="jsdoc-private"></span>
    </li>
  </ul>
</div>
<h2 class="jsdoc-summary-heading">Method Summary<span class="jsdoc-summary-toggle"></span></h2>
<div class="jsdoc-summary-list">
  <ul class="jsdoc-property-list">
    <li class="functionIcon private"><a href="#1_8dojo_parser__clearCache" class="inline-link"> _clearCache</a><span class="parameters">(</span>) <span>Clear cached data.</span><span title="private" class="jsdoc-private"> </span>
    </li>
    <li class="functionIcon private"><a href="#1_8dojo_parser__functionFromScript" class="inline-link"> _functionFromScript</a><span class="parameters">(</span>script, attrData) <span>Convert a &lt;script type=&quot;dojo/method&quot; args=&quot;a, b, c&quot;&gt; ... &lt;/script&gt;
into a function</span><span title="private" class="jsdoc-private"> </span>
    </li>
    <li class="functionIcon private"><a href="#1_8dojo_parser__instantiate" class="inline-link"> _instantiate</a><span class="parameters">(</span>nodes, mixin, options) <span>Takes array of objects representing nodes, and turns them into class instances and
potentially calls a startup method to allow them to connect with
any children.</span><span title="private" class="jsdoc-private"> </span>
    </li>
    <li class="functionIcon private"><a href="#1_8dojo_parser__require" class="inline-link"> _require</a><span class="parameters">(</span>script) <span>Helper for _scanAMD().</span><span title="private" class="jsdoc-private"> </span>
    </li>
    <li class="functionIcon private"><a href="#1_8dojo_parser__scanAmd" class="inline-link"> _scanAmd</a><span class="parameters">(</span>root) <span>Scans the DOM for any declarative requires and returns their values.</span><span title="private" class="jsdoc-private"> </span>
    </li>
    <li class="functionIcon "><a href="#1_8dojo_parser_construct" class="inline-link"> construct</a><span class="parameters">(</span>ctor, node, mixin, options, scripts, inherited) <span>Calls new ctor(params, node), where params is the hash of parameters specified on the node,
excluding data-dojo-type and data-dojo-mixins.</span>
    </li>
    <li class="functionIcon "><a href="#1_8dojo_parser_instantiate" class="inline-link"> instantiate</a><span class="parameters">(</span>nodes, mixin, options) <span>Takes array of nodes, and turns them into class instances and
potentially calls a startup method to allow them to connect with
any children.</span>
    </li>
    <li class="functionIcon "><a href="#1_8dojo_parser_parse" class="inline-link"> parse</a><span class="parameters">(</span>rootNode, options) <span>Scan the DOM for class instances, and instantiate them.</span>
    </li>
    <li class="functionIcon "><a href="#1_8dojo_parser_scan" class="inline-link"> scan</a><span class="parameters">(</span>root, options) <span>Scan a DOM tree and return an array of objects representing the DOMNodes
that need to be turned into widgets.</span>
    </li>
  </ul>
</div>
<div class="jsdoc-children">
  <div class="jsdoc-fields">
    <h2>Properties</h2>
    <div class="jsdoc-property-list">
      <div class="jsdoc-field private extension-module">
        <div class="jsdoc-title"><a name="1_8dojo_parser__attrName"></a><span class="objectIcon">_attrName</span><span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance">Defined by: <a href="/api/1.8/dojox/dtl/_Templated" class="jsdoc-link">dojox/dtl/_Templated</a><span title="Must manually require () dojox/dtl/_Templated to access" class="jsdoc-extension"></span>
        </div>
      </div>
      <div class="jsdoc-field private extension-module">
        <div class="jsdoc-title"><a name="1_8dojo_parser__query"></a><span class="objectIcon">_query</span><span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance">Defined by: <a href="/api/1.8/dojox/dtl/_Templated" class="jsdoc-link">dojox/dtl/_Templated</a><span title="Must manually require () dojox/dtl/_Templated to access" class="jsdoc-extension"></span>
        </div>
      </div>
    </div>
    <h2>Methods</h2>
    <div class="jsdoc-property-list">
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojo_parser__clearCache"></a><span class="functionIcon">_clearCache</span><span class="parameters">()</span> <span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/parser" class="jsdoc-link">dojo/parser</a>
        </div>
        <div class="jsdoc-full-summary"><p>Clear cached data.   Used mainly for benchmarking.</p>
</div>
      </div>
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojo_parser__functionFromScript"></a><span class="functionIcon">_functionFromScript</span><span class="parameters">(script, attrData)</span> <span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/parser" class="jsdoc-link">dojo/parser</a>
        </div>
        <div class="jsdoc-full-summary"><p>Convert a <code>&lt;script type=&quot;dojo/method&quot; args=&quot;a, b, c&quot;&gt; ... &lt;/script&gt;</code>
into a function</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">script</td>
            <td class="jsdoc-param-type">DOMNode</td>
            <td class="jsdoc-param-description"><p>The <code>&lt;script&gt;</code> DOMNode</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">attrData</td>
            <td class="jsdoc-param-type">String</td>
            <td class="jsdoc-param-description"><p>For HTML5 compliance, searches for attrData + &quot;args&quot; (typically
&quot;data-dojo-args&quot;) instead of &quot;args&quot;</p>
 
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">instance</span></div>
      </div>
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojo_parser__instantiate"></a><span class="functionIcon">_instantiate</span><span class="parameters">(nodes, mixin, options)</span> <span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/parser" class="jsdoc-link">dojo/parser</a>
        </div>
        <div class="jsdoc-full-summary"><p>Takes array of objects representing nodes, and turns them into class instances and
potentially calls a startup method to allow them to connect with
any children.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">nodes</td>
            <td class="jsdoc-param-type">Array</td>
            <td class="jsdoc-param-description"><p>Array of objects like</p>
<pre><code>    {
      ctor: Function (may be null)
      types: [&quot;dijit/form/Button&quot;, &quot;acme/MyMixin&quot;] (used if ctor not specified)
      node: DOMNode,
      scripts: [ ... ],  // array of &lt;script type=&quot;dojo/...&quot;&gt; children of node
      inherited: { ... }  // settings inherited from ancestors like dir, theme, etc.
    }</code></pre>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">mixin</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>An object that will be mixed in with each node in the array.
Values in the mixin will override values in the node, if they
exist.</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">options</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>An options object used to hold kwArgs for instantiation.
See parse.options argument for details.</p>
 
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">undefined</span></div>
      </div>
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojo_parser__require"></a><span class="functionIcon">_require</span><span class="parameters">(script)</span> <span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/parser" class="jsdoc-link">dojo/parser</a>
        </div>
        <div class="jsdoc-full-summary"><p>Helper for _scanAMD().  Takes a <code>&lt;script type=dojo/require&gt;bar: &quot;acme/bar&quot;, ...&lt;/script&gt;</code> node,
calls require() to load the specified modules and (asynchronously) assign them to the specified global
variables, and returns a Promise for when that operation completes.

</p>
<p>In the example above, it is effectively doing a require([&quot;acme/bar&quot;, ...], function(a){ bar = a; }).</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">script</td>
            <td class="jsdoc-param-type">DOMNode</td>
            <td class="jsdoc-param-description">
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">undefined</span></div>
      </div>
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojo_parser__scanAmd"></a><span class="functionIcon">_scanAmd</span><span class="parameters">(root)</span> <span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/parser" class="jsdoc-link">dojo/parser</a>
        </div>
        <div class="jsdoc-full-summary"><p>Scans the DOM for any declarative requires and returns their values.</p>
</div>
        <div class="jsdoc-full-summary"><p>Looks for <code>&lt;script type=<a class="jsdoc-link" href="/api/1.8/dojo/require">dojo/require</a>&gt;bar: &quot;acme/bar&quot;, ...&lt;/script&gt;</code> node, calls require() to load the
specified modules and (asynchronously) assign them to the specified global variables,
and returns a Promise for when those operations complete.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">root</td>
            <td class="jsdoc-param-type">DomNode</td>
            <td class="jsdoc-param-description"><p>The node to base the scan from.</p>
 
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">undefined</span></div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojo_parser_construct"></a><span class="functionIcon">construct</span><span class="parameters">(ctor, node, mixin, options, scripts, inherited)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/parser" class="jsdoc-link">dojo/parser</a>
        </div>
        <div class="jsdoc-full-summary"><p>Calls new ctor(params, node), where params is the hash of parameters specified on the node,
excluding data-dojo-type and data-dojo-mixins.   Does not call startup().   Returns the widget.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">ctor</td>
            <td class="jsdoc-param-type">Function</td>
            <td class="jsdoc-param-description"><p>Widget constructor.</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">node</td>
            <td class="jsdoc-param-type">DOMNode</td>
            <td class="jsdoc-param-description"><p>This node will be replaced/attached to by the widget.  It also specifies the arguments to pass to ctor.</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">mixin</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div><p>Attributes in this object will be passed as parameters to ctor,
overriding attributes specified on the node.</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">options</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div><p>An options object used to hold kwArgs for instantiation.   See parse.options argument for details.</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">scripts</td>
            <td class="jsdoc-param-type">DomNode[]</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div><p>Array of <code>&lt;script type=&quot;dojo/*&quot;&gt;</code> DOMNodes.  If not specified, will search for <code>&lt;script&gt;</code> tags inside node.</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">inherited</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div><p>Settings from dir=rtl or lang=... on a node above this node.   Overrides options.inherited.</p>
 
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">instance</span></div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojo_parser_instantiate"></a><span class="functionIcon">instantiate</span><span class="parameters">(nodes, mixin, options)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/parser" class="jsdoc-link">dojo/parser</a>
        </div>
        <div class="jsdoc-full-summary"><p>Takes array of nodes, and turns them into class instances and
potentially calls a startup method to allow them to connect with
any children.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">nodes</td>
            <td class="jsdoc-param-type">Array</td>
            <td class="jsdoc-param-description"><p>Array of DOM nodes</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">mixin</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div><p>An object that will be mixed in with each node in the array.
Values in the mixin will override values in the node, if they
exist.</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">options</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div><p>An object used to hold kwArgs for instantiation.
See parse.options argument for details.</p>
 
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">undefined</span></div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojo_parser_parse"></a><span class="functionIcon">parse</span><span class="parameters">(rootNode, options)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/parser" class="jsdoc-link">dojo/parser</a>
        </div>
        <div class="jsdoc-full-summary"><p>Scan the DOM for class instances, and instantiate them.</p>
</div>
        <div class="jsdoc-full-summary"><p>Search specified node (or root node) recursively for class instances,
and instantiate them. Searches for either data-dojo-type=&quot;Class&quot; or
dojoType=&quot;Class&quot; where &quot;Class&quot; is a a fully qualified class name,
like <a class="jsdoc-link" href="/api/1.8/dijit/form/Button">dijit/form/Button</a>

</p>
<p>Using <code>data-dojo-type</code>:
Attributes using can be mixed into the parameters used to instantiate the
Class by using a <code>data-dojo-props</code> attribute on the node being converted.
<code>data-dojo-props</code> should be a string attribute to be converted from JSON.

</p>
<p>Using <code>dojoType</code>:
Attributes are read from the original domNode and converted to appropriate
types by looking up the Class prototype values. This is the default behavior
from Dojo 1.0 to Dojo 1.5. <code>dojoType</code> support is deprecated, and will
go away in Dojo 2.0.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">rootNode</td>
            <td class="jsdoc-param-type">DomNode</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div><p>A default starting root node from which to start the parsing. Can be
omitted, defaulting to the entire document. If omitted, the <code>options</code>
object can be passed in this place. If the <code>options</code> object has a
<code>rootNode</code> member, that is used.</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">options</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div><p>A hash of options.

</p>
<ul>
<li>noStart: Boolean?:
when set will prevent the parser from calling .startup()
when locating the nodes.</li>
<li>rootNode: DomNode?:
identical to the function&#39;s <code>rootNode</code> argument, though
allowed to be passed in via this `options object.</li>
<li>template: Boolean:
If true, ignores ContentPane&#39;s stopParser flag and parses contents inside of
a ContentPane inside of a template.   This allows dojoAttachPoint on widgets/nodes
nested inside the ContentPane to work.</li>
<li>inherited: Object:
Hash possibly containing dir and lang settings to be applied to
parsed widgets, unless there&#39;s another setting on a sub-node that overrides</li>
<li>scope: String:
Root for attribute names to search for.   If scopeName is dojo,
will search for data-dojo-type (or dojoType).   For backwards compatibility
reasons defaults to dojo._scopeName (which is &quot;dojo&quot; except when
multi-version support is used, when it will be something like dojo16, dojo20, etc.)</li>
<li>propsThis: Object:
If specified, &quot;this&quot; referenced from data-dojo-props will refer to propsThis.
Intended for use from the widgets-in-template feature of <code>dijit._WidgetsInTemplateMixin</code></li>
</ul>
 
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">Mixed | Array</span></div>
        <div class="jsdoc-return-description">Returns a blended object that is an array of the instantiated objects, but also can include
a promise that is resolved with the instantiated objects.  This is done for backwards
compatibility.  If the parser auto-requires modules, it will always behave in a promise
fashion and `parser.parse().then(function(instances){...})` should be used.</div>
        <div class="jsdoc-examples">
          <h2>Examples</h2>
          <div class="jsdoc-example">
            <h3>Example 1</h3><p>Parse all widgets on a page:</p>
<pre><code>    parser.parse();</code></pre>

          </div>
          <div class="jsdoc-example">
            <h3>Example 2</h3><p>Parse all classes within the node with id=&quot;foo&quot;</p>
<pre><code>    parser.parse(dojo.byId(&#39;foo&#39;));</code></pre>

          </div>
          <div class="jsdoc-example">
            <h3>Example 3</h3><p>Parse all classes in a page, but do not call .startup() on any
child</p>
<pre><code>    parser.parse({ noStart: true })</code></pre>

          </div>
          <div class="jsdoc-example">
            <h3>Example 4</h3><p>Parse all classes in a node, but do not call .startup()</p>
<pre><code>    parser.parse(someNode, { noStart:true });
    // or
    parser.parse({ noStart:true, rootNode: someNode });</code></pre>

          </div>
        </div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojo_parser_scan"></a><span class="functionIcon">scan</span><span class="parameters">(root, options)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojo/parser" class="jsdoc-link">dojo/parser</a>
        </div>
        <div class="jsdoc-full-summary"><p>Scan a DOM tree and return an array of objects representing the DOMNodes
that need to be turned into widgets.</p>
</div>
        <div class="jsdoc-full-summary"><p>Search specified node (or document root node) recursively for class instances
and return an array of objects that represent potential widgets to be
instantiated. Searches for either data-dojo-type=&quot;MID&quot; or dojoType=&quot;MID&quot; where
&quot;MID&quot; is a module ID like &quot;<a class="jsdoc-link" href="/api/1.8/dijit/form/Button">dijit/form/Button</a>&quot; or a fully qualified Class name
like &quot;<a class="jsdoc-link" href="/api/1.8/dijit/form/Button">dijit/form/Button</a>&quot;.  If the MID is not currently available, scan will
attempt to require() in the module.

</p>
<p>See parser.parse() for details of markup.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">root</td>
            <td class="jsdoc-param-type">DomNode</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div><p>A default starting root node from which to start the parsing. Can be
omitted, defaulting to the entire document. If omitted, the <code>options</code>
object can be passed in this place. If the <code>options</code> object has a
<code>rootNode</code> member, that is used.</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">options</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>a kwArgs options object, see parse() for details
</p>
 
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">Promise | undefined</span></div>
        <div class="jsdoc-return-description">A promise that is resolved with the nodes that have been parsed.</div>
      </div>
    </div>
  </div>
</div>