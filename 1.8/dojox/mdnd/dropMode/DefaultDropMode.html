
<div style="display:none" class="jsdoc-permalink">/api/1.8/dojox/mdnd/dropMode/DefaultDropMode</div>
<h1 class="constructorIcon36 jsdoc-title">dojox/mdnd/dropMode/DefaultDropMode<span style="font-size:11px;color:#999;"> (version 1.8)</span></h1>
<div class="jsdoc-full-summary"><p>Enabled a type of calcul for Dnd.
Default class to find the nearest target.</p>
</div>
<div class="jsdoc-children">
  <div class="jsdoc-fieldlist"></div>
</div>
<h2 class="jsdoc-summary-heading">Property Summary<span class="jsdoc-summary-toggle"></span></h2>
<div class="jsdoc-summary-list">
  <ul class="jsdoc-property-list">
    <li class="stringIcon private"><a href="#1_8dojox_mdnd_dropMode_DefaultDropMode__oldBehaviour" class="inline-link"> _oldBehaviour </a><span>see getDragPoint</span><span title="private" class="jsdoc-private"></span>
    </li>
    <li class="numberIcon private"><a href="#1_8dojox_mdnd_dropMode_DefaultDropMode__oldXPoint" class="inline-link"> _oldXPoint </a><span>used to save a X position</span><span title="private" class="jsdoc-private"></span>
    </li>
    <li class="numberIcon private"><a href="#1_8dojox_mdnd_dropMode_DefaultDropMode__oldYPoint" class="inline-link"> _oldYPoint </a><span>used to save a Y position</span><span title="private" class="jsdoc-private"></span>
    </li>
  </ul>
</div>
<h2 class="jsdoc-summary-heading">Method Summary<span class="jsdoc-summary-toggle"></span></h2>
<div class="jsdoc-summary-list">
  <ul class="jsdoc-property-list">
    <li class="functionIcon private"><a href="#1_8dojox_mdnd_dropMode_DefaultDropMode__checkInterval" class="inline-link"> _checkInterval</a><span class="parameters">(</span>areaList, index, x) <span>check if the dragNode is in the interval.</span><span title="private" class="jsdoc-private"> </span>
    </li>
    <li class="functionIcon private"><a href="#1_8dojox_mdnd_dropMode_DefaultDropMode__updateArea" class="inline-link"> _updateArea</a><span class="parameters">(</span>area) <span>update the DnD area object (i.e. update coordinates of its DOM node)</span><span title="private" class="jsdoc-private"> </span>
    </li>
    <li class="functionIcon "><a href="#1_8dojox_mdnd_dropMode_DefaultDropMode_addArea" class="inline-link"> addArea</a><span class="parameters">(</span>areas, object) <span>Add a DnD Area into an array sorting by the x position.</span>
    </li>
    <li class="functionIcon "><a href="#1_8dojox_mdnd_dropMode_DefaultDropMode_destroy" class="inline-link"> destroy</a><span class="parameters">(</span>) <span></span>
    </li>
    <li class="functionIcon "><a href="#1_8dojox_mdnd_dropMode_DefaultDropMode_getDragPoint" class="inline-link"> getDragPoint</a><span class="parameters">(</span>coords, size, mousePosition) <span>return coordinates of the draggable item</span>
    </li>
    <li class="functionIcon "><a href="#1_8dojox_mdnd_dropMode_DefaultDropMode_getDropIndex" class="inline-link"> getDropIndex</a><span class="parameters">(</span>targetArea, coords) <span>Return the index where the drop has to be placed.</span>
    </li>
    <li class="functionIcon "><a href="#1_8dojox_mdnd_dropMode_DefaultDropMode_getTargetArea" class="inline-link"> getTargetArea</a><span class="parameters">(</span>areaList, coords, currentIndexArea) <span>get the nearest DnD area.</span>
    </li>
    <li class="functionIcon "><a href="#1_8dojox_mdnd_dropMode_DefaultDropMode_initItems" class="inline-link"> initItems</a><span class="parameters">(</span>area) <span>initialize the horizontal line in order to determinate the drop zone.</span>
    </li>
    <li class="functionIcon "><a href="#1_8dojox_mdnd_dropMode_DefaultDropMode_refreshItems" class="inline-link"> refreshItems</a><span class="parameters">(</span>area, indexItem, size, added) <span>take into account the drop indicator DOM element in order to compute horizontal lines</span>
    </li>
    <li class="functionIcon "><a href="#1_8dojox_mdnd_dropMode_DefaultDropMode_updateAreas" class="inline-link"> updateAreas</a><span class="parameters">(</span>areaList) <span>Refresh intervals between areas to determinate the nearest area to drop an item.</span>
    </li>
  </ul>
</div>
<div class="jsdoc-children">
  <div class="jsdoc-fields">
    <h2>Properties</h2>
    <div class="jsdoc-property-list">
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojox_mdnd_dropMode_DefaultDropMode__oldBehaviour"></a><span class="stringIcon">_oldBehaviour</span><span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance">Defined by: <a href="/api/1.8/dojox/mdnd/dropMode/DefaultDropMode" class="jsdoc-link">dojox/mdnd/dropMode/DefaultDropMode</a>
        </div>
        <div class="jsdoc-summary"><p>see <code>getDragPoint</code></p>
</div>
      </div>
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojox_mdnd_dropMode_DefaultDropMode__oldXPoint"></a><span class="numberIcon">_oldXPoint</span><span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance">Defined by: <a href="/api/1.8/dojox/mdnd/dropMode/DefaultDropMode" class="jsdoc-link">dojox/mdnd/dropMode/DefaultDropMode</a>
        </div>
        <div class="jsdoc-summary"><p>used to save a X position</p>
</div>
      </div>
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojox_mdnd_dropMode_DefaultDropMode__oldYPoint"></a><span class="numberIcon">_oldYPoint</span><span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance">Defined by: <a href="/api/1.8/dojox/mdnd/dropMode/DefaultDropMode" class="jsdoc-link">dojox/mdnd/dropMode/DefaultDropMode</a>
        </div>
        <div class="jsdoc-summary"><p>used to save a Y position</p>
</div>
      </div>
    </div>
    <h2>Methods</h2>
    <div class="jsdoc-property-list">
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojox_mdnd_dropMode_DefaultDropMode__checkInterval"></a><span class="functionIcon">_checkInterval</span><span class="parameters">(areaList, index, x)</span> <span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojox/mdnd/dropMode/DefaultDropMode" class="jsdoc-link">dojox/mdnd/dropMode/DefaultDropMode</a>
        </div>
        <div class="jsdoc-full-summary"><p>check if the dragNode is in the interval.
The x coordinate is basically provided by the <code>getDragPoint</code> method.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">areaList</td>
            <td class="jsdoc-param-type">Array</td>
            <td class="jsdoc-param-description"><p>a list of DnD areas objects</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">index</td>
            <td class="jsdoc-param-type">Integer</td>
            <td class="jsdoc-param-description"><p>index of a DnD area (to get the interval)</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">x</td>
            <td class="jsdoc-param-type">Coord</td>
            <td class="jsdoc-param-description"><p>coordinate x, of the dragNode</p>
 
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">any | boolean</span></div>
        <div class="jsdoc-return-description">true if the dragNode is in interval</div>
      </div>
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojox_mdnd_dropMode_DefaultDropMode__updateArea"></a><span class="functionIcon">_updateArea</span><span class="parameters">(area)</span> <span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojox/mdnd/dropMode/DefaultDropMode" class="jsdoc-link">dojox/mdnd/dropMode/DefaultDropMode</a>
        </div>
        <div class="jsdoc-full-summary"><p>update the DnD area object (i.e. update coordinates of its DOM node)</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">area</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>the DnD area</p>
 
            </td>
          </tr>
        </table>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojox_mdnd_dropMode_DefaultDropMode_addArea"></a><span class="functionIcon">addArea</span><span class="parameters">(areas, object)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojox/mdnd/dropMode/DefaultDropMode" class="jsdoc-link">dojox/mdnd/dropMode/DefaultDropMode</a>
        </div>
        <div class="jsdoc-full-summary"><p>Add a DnD Area into an array sorting by the x position.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">areas</td>
            <td class="jsdoc-param-type">Array</td>
            <td class="jsdoc-param-description"><p>array of areas</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">object</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>data type of a DndArea</p>
 
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">any | Array</span></div>
        <div class="jsdoc-return-description">a sorted area</div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojox_mdnd_dropMode_DefaultDropMode_destroy"></a><span class="functionIcon">destroy</span><span class="parameters">()</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojox/mdnd/dropMode/DefaultDropMode" class="jsdoc-link">dojox/mdnd/dropMode/DefaultDropMode</a>
        </div>
        <div class="jsdoc-full-summary"></div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojox_mdnd_dropMode_DefaultDropMode_getDragPoint"></a><span class="functionIcon">getDragPoint</span><span class="parameters">(coords, size, mousePosition)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojox/mdnd/dropMode/DefaultDropMode" class="jsdoc-link">dojox/mdnd/dropMode/DefaultDropMode</a>
        </div>
        <div class="jsdoc-full-summary"><p>return coordinates of the draggable item</p>
</div>
        <div class="jsdoc-full-summary"><p>return for:

</p>
<ul>
<li>X point : the middle</li>
<li>Y point : search if the user goes up or goes down with his mouse.</li>
<li>Up : top of the draggable item</li>
<li>Down : bottom of the draggable item</li>
</ul>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">coords</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>an object encapsulating X and Y position</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">size</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>an object encapsulating width and height values</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">mousePosition</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>coordinates of mouse</p>
 
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">any | object</span></div>
        <div class="jsdoc-return-description">an object of coordinates
example : {'x':10,'y':10}</div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojox_mdnd_dropMode_DefaultDropMode_getDropIndex"></a><span class="functionIcon">getDropIndex</span><span class="parameters">(targetArea, coords)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojox/mdnd/dropMode/DefaultDropMode" class="jsdoc-link">dojox/mdnd/dropMode/DefaultDropMode</a>
        </div>
        <div class="jsdoc-full-summary"><p>Return the index where the drop has to be placed.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">targetArea</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>a DnD area object</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">coords</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>coordinates [x,y] of the draggable item</p>
 
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">any | number</span></div>
        <div class="jsdoc-return-description">a number
or -1 if the area has no children or the drop index represents the last position in to the area</div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojox_mdnd_dropMode_DefaultDropMode_getTargetArea"></a><span class="functionIcon">getTargetArea</span><span class="parameters">(areaList, coords, currentIndexArea)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojox/mdnd/dropMode/DefaultDropMode" class="jsdoc-link">dojox/mdnd/dropMode/DefaultDropMode</a>
        </div>
        <div class="jsdoc-full-summary"><p>get the nearest DnD area.
Coordinates are basically provided by the <code>getDragPoint</code> method.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">areaList</td>
            <td class="jsdoc-param-type">Array</td>
            <td class="jsdoc-param-description"><p>a list of DnD areas objects</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">coords</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>coordinates [x,y] of the dragItem</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">currentIndexArea</td>
            <td class="jsdoc-param-type">integer</td>
            <td class="jsdoc-param-description"><p>an index representing the active DnD area</p>
 
            </td>
          </tr>
        </table>
        <div><strong>Returns: </strong><span class="jsdoc-return-type">any | number</span></div>
        <div class="jsdoc-return-description">the index of the DnD area</div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojox_mdnd_dropMode_DefaultDropMode_initItems"></a><span class="functionIcon">initItems</span><span class="parameters">(area)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojox/mdnd/dropMode/DefaultDropMode" class="jsdoc-link">dojox/mdnd/dropMode/DefaultDropMode</a>
        </div>
        <div class="jsdoc-full-summary"><p>initialize the horizontal line in order to determinate the drop zone.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">area</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>the DnD area</p>
 
            </td>
          </tr>
        </table>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojox_mdnd_dropMode_DefaultDropMode_refreshItems"></a><span class="functionIcon">refreshItems</span><span class="parameters">(area, indexItem, size, added)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojox/mdnd/dropMode/DefaultDropMode" class="jsdoc-link">dojox/mdnd/dropMode/DefaultDropMode</a>
        </div>
        <div class="jsdoc-full-summary"><p>take into account the drop indicator DOM element in order to compute horizontal lines</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">area</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>a DnD area object</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">indexItem</td>
            <td class="jsdoc-param-type">Integer</td>
            <td class="jsdoc-param-description"><p>index of a draggable item</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">size</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>dropIndicator size</p>
 
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">added</td>
            <td class="jsdoc-param-type">Boolean</td>
            <td class="jsdoc-param-description"><p>boolean to know if a dropIndicator has been added or deleted</p>
 
            </td>
          </tr>
        </table>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojox_mdnd_dropMode_DefaultDropMode_updateAreas"></a><span class="functionIcon">updateAreas</span><span class="parameters">(areaList)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojox/mdnd/dropMode/DefaultDropMode" class="jsdoc-link">dojox/mdnd/dropMode/DefaultDropMode</a>
        </div>
        <div class="jsdoc-full-summary"><p>Refresh intervals between areas to determinate the nearest area to drop an item.
Algorithm :
the marker should be the vertical line passing by the
central point between two contiguous areas.
Note:
If the page has only one targetArea, it&#39;s not necessary to calculate coords.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">areaList</td>
            <td class="jsdoc-param-type">Array</td>
            <td class="jsdoc-param-description"><p>array of areas</p>
 
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>