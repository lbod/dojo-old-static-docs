
<div style="display:none" class="jsdoc-permalink">/api/1.8/dojox/analytics/Urchin</div>
<h1 class="constructorIcon36 jsdoc-title">dojox/analytics/Urchin<span style="font-size:11px;color:#999;"> (version 1.8)</span></h1>
<div class="jsdoc-full-summary"><p>A Google-analytics helper, for post-onLoad inclusion of the tracker, and
dynamic tracking during long-lived page cycles.</p>
</div>
<div class="jsdoc-full-summary"><p>A small class object will allows for lazy-loading the Google Analytics API
at any point during a page lifecycle. Most commonly, Google-Analytics is loaded
via a synchronous script tag in the body, which causes <code>dojo.addOnLoad</code> to
stall until the external API has been completely loaded. The Urchin helper
will load the API on the fly, and provide a convenient API to use, wrapping
Analytics for Ajaxy or single page applications.

</p>
<p>The class can be instantiated two ways: Programatically, by passing an
<code>acct:</code> parameter, or via Markup / dojoType and defining a djConfig
parameter <code>urchin:</code>

</p>
<p>IMPORTANT:
This module will not work simultaneously with the core dojox.analytics
package. If you need the ability to run Google Analytics AND your own local
analytics system, you MUST include dojox.analytics._base BEFORE dojox.analytics.Urchin</p>
</div>
<div class="jsdoc-function-information"> 
  <h3>Usage:</h3>
  <div class="function-signature"><span class="keyword">var</span> foo = new dojox/analytics/Urchin<span class="parameters">(args);</span></div>
</div>
<div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.8/dojox/analytics/Urchin">dojox/analytics/Urchin</a></div>
<div class="jsdoc-summary"><p>Initialize this Urchin instance. Immediately starts the load
sequence, so defer construction until (ideally) after onLoad and
potentially widget parsing.</p>
</div>
<table class="jsdoc-parameters">
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="jsdoc-param-name">args</td>
    <td class="jsdoc-param-type">undefined</td>
    <td class="jsdoc-param-description">
    </td>
  </tr>
</table>
<p>See the <a href="/reference-guide/1.8/dojox/analytics/Urchin.html" target="_blank">dojox/analytics/Urchin reference documentation</a> for more information.</p>
<div class="jsdoc-children">
  <div class="jsdoc-fieldlist"></div>
</div>
<div class="jsdoc-examples">
  <h2>Examples</h2>
  <div class="jsdoc-example">
    <h3>Example 1</h3><pre><code>  // create the tracker programatically:
  var tracker = new dojox.analytics.Urchin({ acct:&quot;UA-123456-7&quot; });</code></pre>
<p></p>

  </div>
  <div class="jsdoc-example">
    <h3>Example 2</h3><pre><code>  // define the urchin djConfig option:
  var djConfig = { urchin: &quot;UA-123456-7&quot; };

  // and in markup:
  &lt;div dojoType=&quot;dojox.analytics.Urchin&quot;&gt;&lt;/div&gt;
  // or code:
  new dojox.analytics.Urchin();</code></pre>
<p></p>

  </div>
  <div class="jsdoc-example">
    <h3>Example 3</h3><pre><code>  // create and define all analytics with one tag.
  &lt;div dojoType=&quot;dojox.analytics.Urchin&quot; acct=&quot;UA-12345-67&quot;&gt;&lt;/div&gt;</code></pre>

  </div>
</div>
<h2 class="jsdoc-summary-heading">Property Summary<span class="jsdoc-summary-toggle"></span></h2>
<div class="jsdoc-summary-list">
  <ul class="jsdoc-property-list">
    <li class="stringIcon"><a href="#1_8dojox_analytics_Urchin_acct" class="inline-link"> acct </a><span>your GA urchin tracker account number.</span>
    </li>
  </ul>
</div>
<h2 class="jsdoc-summary-heading">Method Summary<span class="jsdoc-summary-toggle"></span></h2>
<div class="jsdoc-summary-list">
  <ul class="jsdoc-property-list">
    <li class="functionIcon private"><a href="#1_8dojox_analytics_Urchin__gotGA" class="inline-link"> _gotGA</a><span class="parameters">(</span>) <span>initialize the tracker</span><span title="private" class="jsdoc-private"> </span>
    </li>
    <li class="functionIcon "><a href="#1_8dojox_analytics_Urchin_constructor" class="inline-link"> constructor</a><span class="parameters">(</span>args) <span>Initialize this Urchin instance.</span>
    </li>
    <li class="functionIcon "><a href="#1_8dojox_analytics_Urchin_GAonLoad" class="inline-link"> GAonLoad</a><span class="parameters">(</span>) <span>Stub function to fire when urchin is complete</span>
    </li>
    <li class="functionIcon "><a href="#1_8dojox_analytics_Urchin_trackPageView" class="inline-link"> trackPageView</a><span class="parameters">(</span>url) <span>A public API attached to this widget instance, allowing you
Ajax-like notification of updates.</span>
    </li>
  </ul>
</div>
<div class="jsdoc-children">
  <div class="jsdoc-fields">
    <h2>Properties</h2>
    <div class="jsdoc-property-list">
      <div class="jsdoc-field public">
        <div class="jsdoc-title"><a name="1_8dojox_analytics_Urchin_acct"></a><span class="stringIcon">acct</span>
        </div>
        <div class="jsdoc-inheritance">Defined by: <a href="/api/1.8/dojox/analytics/Urchin" class="jsdoc-link">dojox/analytics/Urchin</a>
        </div>
        <div class="jsdoc-summary"><p>your GA urchin tracker account number. Overrides <code>djConfig.urchin</code></p>
</div>
      </div>
    </div>
    <h2>Methods</h2>
    <div class="jsdoc-property-list">
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojox_analytics_Urchin__gotGA"></a><span class="functionIcon">_gotGA</span><span class="parameters">()</span> <span title="private" class="jsdoc-private"> </span>
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojox/analytics/Urchin" class="jsdoc-link">dojox/analytics/Urchin</a>
        </div>
        <div class="jsdoc-full-summary"><p>initialize the tracker</p>
</div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojox_analytics_Urchin_constructor"></a><span class="functionIcon">constructor</span><span class="parameters">(args)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojox/analytics/Urchin" class="jsdoc-link">dojox/analytics/Urchin</a>
        </div>
        <div class="jsdoc-full-summary"><p>Initialize this Urchin instance. Immediately starts the load
sequence, so defer construction until (ideally) after onLoad and
potentially widget parsing.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">args</td>
            <td class="jsdoc-param-type">undefined</td>
            <td class="jsdoc-param-description">
            </td>
          </tr>
        </table>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojox_analytics_Urchin_GAonLoad"></a><span class="functionIcon">GAonLoad</span><span class="parameters">()</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojox/analytics/Urchin" class="jsdoc-link">dojox/analytics/Urchin</a>
        </div>
        <div class="jsdoc-full-summary"><p>Stub function to fire when urchin is complete</p>
</div>
        <div class="jsdoc-full-summary"><p>This function is executed when the tracker variable is
complete and initialized. The initial trackPageView (with
no arguments) is called here as well, so remeber to call
manually if overloading this method.
</p>
</div>
        <div class="jsdoc-examples">
          <h2>Examples</h2>
          <div class="jsdoc-example">
            <h3>Example 1</h3><p>Create an Urchin tracker that will track a specific page on init
after page load (or parsing, if parseOnLoad is true)</p>
<pre><code>  dojo.addOnLoad(function(){
    new dojox.ananlytics.Urchin({
      acct:&quot;UA-12345-67&quot;,
      GAonLoad: function(){
        this.trackPageView(&quot;/custom-page&quot;);
      }
    });
  });</code></pre>

          </div>
        </div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojox_analytics_Urchin_trackPageView"></a><span class="functionIcon">trackPageView</span><span class="parameters">(url)</span> 
        </div>
        <div class="jsdoc-inheritance TODO">Defined by <a href="/api/1.8/dojox/analytics/Urchin" class="jsdoc-link">dojox/analytics/Urchin</a>
        </div>
        <div class="jsdoc-full-summary"><p>A public API attached to this widget instance, allowing you
Ajax-like notification of updates.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">url</td>
            <td class="jsdoc-param-type">String</td>
            <td class="jsdoc-param-description"><p>A location to tell the tracker to track, eg: &quot;/my-ajaxy-endpoint&quot;</p>
 
            </td>
          </tr>
        </table>
        <div class="jsdoc-examples">
          <h2>Examples</h2>
          <div class="jsdoc-example">
            <h3>Example 1</h3><p>Track clicks from a container of anchors and populate a <code>ContentPane</code></p>
<pre><code>  // &#39;tracker&#39; is our `Urchin` instance, pane is the `ContentPane` ref.
  dojo.connect(container, &quot;onclick&quot;, function(e){
    var ref = dojo.attr(e.target, &quot;href&quot;);
    tracker.trackPageView(ref);
    pane.attr(&quot;href&quot;, ref);
  });</code></pre>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>