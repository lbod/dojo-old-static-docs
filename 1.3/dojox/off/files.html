<div class="jsdoc-permalink" style="display:none;">/api/1.3/dojox/off/files</div><h1 class="jsdoc-title objectIcon36">dojox.off.files <span style="font-size:11px;color:#999;">(version 1.3)</span></h1><div class="jsdoc-prototype">Object &raquo; dojox.off.files</div><div class="jsdoc-children"><div class="jsdoc-field-list"><h2 class="jsdoc-summary-heading">Property Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="objectIcon private inherited even"><a class="inline-link" href="#_cancelID">_cancelID</a></li><li class="objectIcon private inherited odd"><a class="inline-link" href="#_currentFileIndex">_currentFileIndex</a></li><li class="objectIcon private inherited even"><a class="inline-link" href="#_doSlurp">_doSlurp</a></li><li class="objectIcon private inherited odd"><a class="inline-link" href="#_error">_error</a></li><li class="objectIcon private inherited even"><a class="inline-link" href="#_errorMessages">_errorMessages</a></li><li class="objectIcon private inherited odd"><a class="inline-link" href="#_store">_store</a></li><li class="arrayIcon public inherited even"><a class="inline-link" href="#listOfURLs">listOfURLs</a></li><li class="objectIcon public inherited odd"><a class="inline-link" href="#refreshing">refreshing</a></li><li class="stringIcon public inherited even"><a class="inline-link" href="#versionURL">versionURL</a></li></ul></div><h2 class="jsdoc-summary-heading">Method Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="functionIcon private inherited odd"><a class="inline-link" href="#_doRefresh">_doRefresh</a><span class="parameters">(callback, newVersion)</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_getVersionInfo">_getVersionInfo</a><span class="parameters">(callback)</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_sameLocation">_sameLocation</a><span class="parameters">(url)</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_slurp">_slurp</a><span class="parameters">()</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_trimAnchor">_trimAnchor</a><span class="parameters">(url)</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#abortRefresh">abortRefresh</a><span class="parameters">()</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#cache">cache</a><span class="parameters">(urlOrList)</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#isAvailable">isAvailable</a><span class="parameters">(url)</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#printURLs">printURLs</a><span class="parameters">()</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#refresh">refresh</a><span class="parameters">(callback)</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#remove">remove</a><span class="parameters">(url)</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#slurp">slurp</a><span class="parameters">()</span></li></ul></div></div></div><div class="jsdoc-children"><div class="jsdoc-fields"><h2>Properties</h2><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_cancelID"></a><span class="objectIcon">_cancelID</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_currentFileIndex"></a><span class="objectIcon">_currentFileIndex</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_doSlurp"></a><span class="objectIcon">_doSlurp</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_error"></a><span class="objectIcon">_error</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_errorMessages"></a><span class="objectIcon">_errorMessages</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_store"></a><span class="objectIcon">_store</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="listOfURLs"></a><span class="arrayIcon">listOfURLs</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div><div class="jsdoc-summary"><p>For advanced usage; most developers can ignore this.
Our list of URLs that will be cached and made available
offline.</p>
</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="refreshing"></a><span class="objectIcon">refreshing</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div><div class="jsdoc-summary"><p>For advanced usage; most developers can ignore this.
Whether we are currently in the middle
of refreshing our list of offline files.</p>
</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="versionURL"></a><span class="stringIcon">versionURL</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div><div class="jsdoc-summary"><p>An optional file, that if present, records the version
of our bundle of files to make available offline. If this
file is present, and we are not currently debugging,
then we only refresh our offline files if the version has
changed.</p>
</div></div><h2>Methods</h2><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_doRefresh"></a><span class="functionIcon">_doRefresh</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">callback</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">newVersion</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_getVersionInfo"></a><span class="functionIcon">_getVersionInfo</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">callback</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_sameLocation"></a><span class="functionIcon">_sameLocation</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">url</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_slurp"></a><span class="functionIcon">_slurp</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_trimAnchor"></a><span class="functionIcon">_trimAnchor</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">url</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="abortRefresh"></a><span class="functionIcon">abortRefresh</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div><div class="jsdoc-summary"><p>For advanced usage; most developers can ignore this.
Aborts and cancels a refresh.</p>
</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="cache"></a><span class="functionIcon">cache</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div><div class="jsdoc-summary"><p>void
Caches a file or list of files to be available offline. This
can either be a full URL, such as http://foobar.com/index.html,
or a relative URL, such as ../index.html. This URL is not
actually cached until dojox.off.sync.synchronize() is called.</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">urlOrList</td><td class="jsdoc-param-type">String</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="isAvailable"></a><span class="functionIcon">isAvailable</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div><div class="jsdoc-summary"><p>boolean
Determines whether the given resource is available offline.</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">url</td><td class="jsdoc-param-type">String</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="printURLs"></a><span class="functionIcon">printURLs</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div><div class="jsdoc-summary"><p>A helper function that will dump and print out
all of the URLs that are cached for offline
availability. This can help with debugging if you
are trying to make sure that all of your URLs are
available offline</p>
</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="refresh"></a><span class="functionIcon">refresh</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div><div class="jsdoc-summary"><p>void
console.debug(&quot;dojox.off.files.refresh&quot;);
For advanced usage; most developers can ignore this.
Refreshes our list of offline resources,
making them available offline.</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">callback</td><td class="jsdoc-param-type">Function</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="remove"></a><span class="functionIcon">remove</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div><div class="jsdoc-summary"><p>void
Removes a URL from the list of files to cache.</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">url</td><td class="jsdoc-param-type">String</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="slurp"></a><span class="functionIcon">slurp</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.3/dojox/off/files">dojox.off.files</a></div><div class="jsdoc-summary"><p>Autoscans the page to find all resources to
cache. This includes scripts, images, CSS, and hyperlinks
to pages that are in the same scheme/port/host as this
page. We also scan the embedded CSS of any stylesheets
to find @import statements and url()'s.
You should call this method from the top-level, outside of
any functions and before the page loads:
&lt;script&gt;
dojo.require(&quot;dojox.sql&quot;);
dojo.require(&quot;dojox.off&quot;);
dojo.require(&quot;dojox.off.ui&quot;);
dojo.require(&quot;dojox.off.sync&quot;);
// configure how we should work offline
// set our application name
dojox.off.ui.appName = &quot;Moxie&quot;;
// automatically &quot;slurp&quot; the page and
// capture the resources we need offline
dojox.off.files.slurp();
// tell Dojo Offline we are ready for it to initialize itself now
// that we have finished configuring it for our application
dojox.off.initialize();
&lt;/script&gt;
Note that inline styles on elements are not handled (i.e.
if you somehow have an inline style that uses a URL);
object and embed tags are not scanned since their format
differs based on type; and elements created by JavaScript
after page load are not found. For these you must manually
add them with a dojox.off.files.cache() method call.
just schedule the slurp once the page is loaded and
Dojo Offline is ready to slurp; dojox.off will call
our _slurp() method before indicating it is finished
loading</p>
</div></div></div></div>