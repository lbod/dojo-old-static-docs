<div class="jsdoc-permalink" style="display:none;">/api/1.4/dojox/data/ClientFilter</div><h1 class="jsdoc-title constructorIcon36">dojox.data.ClientFilter <span style="font-size:11px;color:#999;">(version 1.4)</span></h1><div class="jsdoc-prototype">Object &raquo; dojox.data.ClientFilter</div><div class="jsdoc-require">dojo.require("dojox.data.ClientFilter");</div><div class="jsdoc-prototype">Defined in dojox/data/ClientFilter.js</div><div class="jsdoc-function-information"><h3>Usage:</h3><div class="function-signature"><span class="keyword">var</span> foo = new dojox.data.ClientFilter();</div></div><div class="jsdoc-full-summary"><p>To a update a result set after a notification (onNew, onSet, and onDelete),
widgets can call the updateResultSet method. Widgets can use the updated
result sets to determine how to react to notifications, and how to update their displayed results
based on changes.
This module will use the best available information to update result sets, using query attribute
objects to determine if items are in a result set, and using the sort arrays to maintain sort
information. However, queries can be opaque strings, and this module can not update
results by itself in this case. In this situations, data stores can provide a isUpdateable(request) function
and matchesQuery(item,request) function. If a data store can handle a query, it can return true from
isUpdateable and if an item matches a query, it can return true from matchesQuery. Here is
definition of isUpdateable and matchesQuery
isUpdateable(request)  - request is the keywords arguments as is passed to the fetch function.
matchesQuery(item,request) - item is the item to test, and request is the value arguments object
for the fetch function.
You can define a property on this object instance "cacheByDefault" to a value of true that will
cause all queries to be cached by default unless the cache queryOption is explicitly set to false.
This can be defined in the constructor options for ServiceStore/JsonRestStore and subtypes.</p>
</div><div class="jsdoc-examples"><h2>Examples:</h2><div class="jsdoc-example"><h3>Example 1</h3>
to make a updated-result-set data store from an existing data store:
<pre class="brush: js;" lang="javascript">
	dojo.declare(&quot;dojox.data.MyLiveDataStore&quot;,
		dojox.data.MyDataStore,dojox.data.ClientFilter], // subclass LiveResultSets if available
		{}
	);
</pre></div></div><div class="jsdoc-children"><div class="jsdoc-field-list"><h2 class="jsdoc-summary-heading">Property Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="arrayIcon private inherited even"><a class="inline-link" href="#_fetchCache">_fetchCache</a></li><li class="arrayIcon private inherited odd"><a class="inline-link" href="#_updates">_updates</a></li><li class="objectIcon public inherited even"><a class="inline-link" href="#cacheByDefault">cacheByDefault</a></li><li class="objectIcon public inherited odd"><a class="inline-link" href="#onDelete">onDelete</a></li><li class="objectIcon public inherited even"><a class="inline-link" href="#onNew">onNew</a></li><li class="objectIcon public inherited odd"><a class="inline-link" href="#onSet">onSet</a></li><li class="numberIcon public inherited even"><a class="inline-link" href="#serverVersion">serverVersion</a></li></ul></div><h2 class="jsdoc-summary-heading">Method Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="functionIcon public inherited odd"><a class="inline-link" href="#cachingFetch">cachingFetch</a><span class="parameters">(args)</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#clearCache">clearCache</a><span class="parameters">()</span> <span>Clears the cache of client side queries</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#clientSideFetch">clientSideFetch</a><span class="parameters">(request, baseResults)</span> <span>Performs a query on the client side and returns the results as an array</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#clientSidePaging">clientSidePaging</a><span class="parameters">(request, baseResults)</span></li><li class="functionIcon public  odd"><a class="inline-link" href="#constructor">constructor</a><span class="parameters">()</span><span class="jsdoc-returns"> returns dojox.data.ClientFilter</span> <span>This is an abstract class that data stores can extend to add updateable result set functionality
	as well as client side querying capabilities. This enables
	widgets to be aware of how active results change in response to the modifications/notifications.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#isUpdateable">isUpdateable</a><span class="parameters">(request)</span> <span>Returns whether the provide fetch arguments can be used to update an existing list</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#makeComparator">makeComparator</a><span class="parameters">(sort)</span><span class="jsdoc-returns"> returns keep the order unchanged</span> <span>returns a comparator function for the given sort order array</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#matchesQuery">matchesQuery</a><span class="parameters">(item, request)</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#querySuperSet">querySuperSet</a><span class="parameters">(argsSuper, argsSub)</span> <span>Determines whether the provided arguments are super/sub sets of each other</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#updateResultSet">updateResultSet</a><span class="parameters">(resultSet, request)</span> <span>Attempts to update the given result set based on previous notifications</span></li></ul></div></div></div><div class="jsdoc-children"><div class="jsdoc-fields"><h2>Properties</h2><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_fetchCache"></a><span class="arrayIcon">_fetchCache</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_updates"></a><span class="arrayIcon">_updates</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="cacheByDefault"></a><span class="objectIcon">cacheByDefault</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="onDelete"></a><span class="objectIcon">onDelete</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="onNew"></a><span class="objectIcon">onNew</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="onSet"></a><span class="objectIcon">onSet</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="serverVersion"></a><span class="numberIcon">serverVersion</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div></div><h2>Methods</h2><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="cachingFetch"></a><span class="functionIcon">cachingFetch</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">args</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="clearCache"></a><span class="functionIcon">clearCache</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div><div class="jsdoc-summary">Clears the cache of client side queries</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="clientSideFetch"></a><span class="functionIcon">clientSideFetch</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div><div class="jsdoc-summary">Performs a query on the client side and returns the results as an array</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">request</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">See dojo.data.api.Read.fetch request</td></tr><tr><td class="jsdoc-param-name">baseResults</td><td class="jsdoc-param-type">Array</td><td class="jsdoc-param-description">This provides the result set to start with for client side querying</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="clientSidePaging"></a><span class="functionIcon">clientSidePaging</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">request</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">baseResults</td><td class="jsdoc-param-type">Array</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public  odd"><div class="jsdoc-title"><a name="constructor"></a><span class="functionIcon">constructor</span></div><div class="jsdoc-inheritance">Overrides <a class="jsdoc-link" href="/api/1.4/Object">Object</a></div><div class="jsdoc-return-type">Returns <strong>dojox.data.ClientFilter</strong></div><div class="jsdoc-summary"><p>To a update a result set after a notification (onNew, onSet, and onDelete),
widgets can call the updateResultSet method. Widgets can use the updated
result sets to determine how to react to notifications, and how to update their displayed results
based on changes.
This module will use the best available information to update result sets, using query attribute
objects to determine if items are in a result set, and using the sort arrays to maintain sort
information. However, queries can be opaque strings, and this module can not update
results by itself in this case. In this situations, data stores can provide a isUpdateable(request) function
and matchesQuery(item,request) function. If a data store can handle a query, it can return true from
isUpdateable and if an item matches a query, it can return true from matchesQuery. Here is
definition of isUpdateable and matchesQuery
isUpdateable(request)  - request is the keywords arguments as is passed to the fetch function.
matchesQuery(item,request) - item is the item to test, and request is the value arguments object
for the fetch function.
You can define a property on this object instance "cacheByDefault" to a value of true that will
cause all queries to be cached by default unless the cache queryOption is explicitly set to false.
This can be defined in the constructor options for ServiceStore/JsonRestStore and subtypes.</p>
</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="isUpdateable"></a><span class="functionIcon">isUpdateable</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div><div class="jsdoc-summary">Returns whether the provide fetch arguments can be used to update an existing list</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">request</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">See dojo.data.api.Read.fetch request</td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="makeComparator"></a><span class="functionIcon">makeComparator</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div><div class="jsdoc-return-type">Returns <strong>keep the order unchanged</strong></div><div class="jsdoc-summary">returns a comparator function for the given sort order array</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">sort</td><td class="jsdoc-param-type">See</td><td class="jsdoc-param-description">dojox.data.api.Read.fetch</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="matchesQuery"></a><span class="functionIcon">matchesQuery</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">item</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">request</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="querySuperSet"></a><span class="functionIcon">querySuperSet</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div><div class="jsdoc-summary">Determines whether the provided arguments are super/sub sets of each other</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">argsSuper</td><td class="jsdoc-param-type">Dojo</td><td class="jsdoc-param-description">Data Fetch arguments</td></tr><tr><td class="jsdoc-param-name">argsSub</td><td class="jsdoc-param-type">Dojo</td><td class="jsdoc-param-description">Data Fetch arguments</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="updateResultSet"></a><span class="functionIcon">updateResultSet</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.4/dojox/data/ClientFilter">dojox.data.ClientFilter</a></div><div class="jsdoc-summary"><p>This will attempt to update the provide result based on previous notification, adding new items
from onNew calls, removing deleted items, and updating modified items, and properly removing
and adding items as required by the query and sort parameters. This function will return:
0: Indicates it could not successfully update the result set
1: Indicates it could successfully handle all the notifications, but no changes were made to the result set
2: Indicates it successfully handled all the notifications and result set has been updated.</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">resultSet</td><td class="jsdoc-param-type">Array</td><td class="jsdoc-param-description">The result set array that should be updated</td></tr><tr><td class="jsdoc-param-name">request</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">This object follows the same meaning as the keywordArgs passed to a dojo.data.api.Read.fetch.</td></tr></table></div></div></div>