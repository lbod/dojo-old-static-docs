<div class="jsdoc-permalink" style="display:none;">/api/1.7/dojox/drawing/util/common</div><h1 class="jsdoc-title objectIcon36">dojox.drawing.util.common <span style="font-size:11px;color:#999;">(version 1.7)</span></h1><div class="jsdoc-prototype">Object &raquo; dojox.drawing.util.common</div><div class="jsdoc-require">dojo.require("dojox.drawing.util.common");</div><div class="jsdoc-prototype">Defined in dojox/drawing/util/common.js</div><div class="jsdoc-full-summary"><p>A collection of common methods used for DojoX Drawing.
This singleton is accessible in most Drawing classes
as this.util
NOTE:
A lot of functions use a EventObject
as an argument. An attempt was made to accept
either that object or a list of numbers. That wasn't
finished (it didn't work well in all cases) but is
likely to happen in the future.
In cases where you are not sending a Mouse object,
form your argument like so:
var obj = {
start:{
x:Number,   // start x
y:Number    // start y
},
x: Number,      // end x
y:Number        // end y
}</p>
</div><div class="jsdoc-children"><div class="jsdoc-field-list"><h2 class="jsdoc-summary-heading">Property Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="objectIcon public inherited even"><a class="inline-link" href="#dojox.drawing.util.common.objects">dojox.drawing.util.common.objects</a></li></ul></div><h2 class="jsdoc-summary-heading">Method Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojox.drawing.util.common.abbr">dojox.drawing.util.common.abbr</a><span class="parameters">(type)</span> <span>Converts a namespace (typically a tool or a stencil) into
	an abbreviation</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#dojox.drawing.util.common.angle">dojox.drawing.util.common.angle</a><span class="parameters">(obj, snap)</span><span class="jsdoc-returns"> returns Whole Number|Float</span> <span>Return angle based on mouse object
	arguments:</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojox.drawing.util.common.argsToObj">dojox.drawing.util.common.argsToObj</a><span class="parameters">()</span> <span>Attempts to determine in a Mouse Object
	was passed or indiviual numbers. Returns
	an object.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#dojox.drawing.util.common.attr">dojox.drawing.util.common.attr</a><span class="parameters">(elem, prop, value, squelchErrors)</span> <span>Helper function to attach attributes to SVG and VML raw nodes.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojox.drawing.util.common.byId">dojox.drawing.util.common.byId</a><span class="parameters">(id)</span> <span>Get an object that was registered with util.register</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#dojox.drawing.util.common.constrainAngle">dojox.drawing.util.common.constrainAngle</a><span class="parameters">(obj, min, max)</span><span class="jsdoc-returns"> returns Object</span> <span>Ensures the angle in the Mouse Object is within the
	min and max limits. If not one of those limits is used.
	Returns an x,y point for the angle used.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojox.drawing.util.common.degToRad">dojox.drawing.util.common.degToRad</a><span class="parameters">(n)</span><span class="jsdoc-returns"> returns Number</span> <span>Convert the passed number to radians.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#dojox.drawing.util.common.distance">dojox.drawing.util.common.distance</a><span class="parameters">()</span><span class="jsdoc-returns"> returns Number</span> <span>Return the length derived from the coordinates
	in the Mouse object. Different from util.length
	in that this always returns an absolute value.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojox.drawing.util.common.idSetStart">dojox.drawing.util.common.idSetStart</a><span class="parameters">(num)</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#dojox.drawing.util.common.length">dojox.drawing.util.common.length</a><span class="parameters">(o)</span> <span>Return the length derived from the coordinates
	in the Mouse object.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojox.drawing.util.common.lineSub">dojox.drawing.util.common.lineSub</a><span class="parameters">(x1, y1, x2, y2, amt)</span><span class="jsdoc-returns"> returns Object</span> <span>Subtract an amount from a line</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#dojox.drawing.util.common.mixin">dojox.drawing.util.common.mixin</a><span class="parameters">(o1, o2)</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojox.drawing.util.common.oppAngle">dojox.drawing.util.common.oppAngle</a><span class="parameters">(ang)</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#dojox.drawing.util.common.pointOnCircle">dojox.drawing.util.common.pointOnCircle</a><span class="parameters">(cx, cy, radius, angle)</span> <span>A *very* helpful method. If you know the center
	(or starting) point, length and angle, find the
	x,y point at the end of that line.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojox.drawing.util.common.radToDeg">dojox.drawing.util.common.radToDeg</a><span class="parameters">(n)</span><span class="jsdoc-returns"> returns Number</span> <span>Convert the passed number to degrees.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#dojox.drawing.util.common.radians">dojox.drawing.util.common.radians</a><span class="parameters">(o)</span> <span>Return the radians derived from the coordinates
	in the Mouse object.
	var o = this.argsToObj.apply(this, arguments);</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojox.drawing.util.common.register">dojox.drawing.util.common.register</a><span class="parameters">(obj)</span> <span>Since util is the only Singleton in Drawing (besides
	keys) it is used to help connect the Drawing object
	the Toolbar. Since multiple drawings can be on one
	page, this function serves a little more use than
	on first apearance.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#dojox.drawing.util.common.slope">dojox.drawing.util.common.slope</a><span class="parameters">(p1, p2)</span><span class="jsdoc-returns"> returns Number</span> <span>Given two poits of a line, returns the slope.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojox.drawing.util.common.snapAngle">dojox.drawing.util.common.snapAngle</a><span class="parameters">(obj, ca)</span><span class="jsdoc-returns"> returns Object</span> <span>Snaps a line to the nearest angle</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#dojox.drawing.util.common.uid">dojox.drawing.util.common.uid</a><span class="parameters">(str)</span><span class="jsdoc-returns"> returns String</span> <span>Creates a unique ID.
	arguments:</span></li></ul></div></div></div><div class="jsdoc-children"><div class="jsdoc-fields"><h2>Properties</h2><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.drawing.util.common.objects"></a><span class="objectIcon">dojox.drawing.util.common.objects</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div></div><h2>Methods</h2><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojox.drawing.util.common.abbr"></a><span class="functionIcon">dojox.drawing.util.common.abbr</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-summary">Converts a namespace (typically a tool or a stencil) into
	an abbreviation</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">type</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.drawing.util.common.angle"></a><span class="functionIcon">dojox.drawing.util.common.angle</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-return-type">Returns <strong>Whole Number|Float</strong></div><div class="jsdoc-summary">Return angle based on mouse object
	arguments:</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">obj</td><td class="jsdoc-param-type">EventObject</td><td class="jsdoc-param-description">Manager.Mouse event.</td></tr><tr><td class="jsdoc-param-name">snap</td><td class="jsdoc-param-type">?</td><td class="jsdoc-param-description">Float Returns nearest angle within snap limits
	obj = this.argsToObj.apply(this, arguments);</td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojox.drawing.util.common.argsToObj"></a><span class="functionIcon">dojox.drawing.util.common.argsToObj</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-summary">Attempts to determine in a Mouse Object
	was passed or indiviual numbers. Returns
	an object.</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.drawing.util.common.attr"></a><span class="functionIcon">dojox.drawing.util.common.attr</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-summary">Helper function to attach attributes to SVG and VML raw nodes.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">elem</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">prop</td><td class="jsdoc-param-type">property</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">value</td><td class="jsdoc-param-type">?</td><td class="jsdoc-param-description">value</td></tr><tr><td class="jsdoc-param-name">squelchErrors</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojox.drawing.util.common.byId"></a><span class="functionIcon">dojox.drawing.util.common.byId</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-summary">Get an object that was registered with util.register</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">id</td><td class="jsdoc-param-type">String</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.drawing.util.common.constrainAngle"></a><span class="functionIcon">dojox.drawing.util.common.constrainAngle</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-return-type">Returns <strong>Object</strong></div><div class="jsdoc-summary">Ensures the angle in the Mouse Object is within the
	min and max limits. If not one of those limits is used.
	Returns an x,y point for the angle used.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">obj</td><td class="jsdoc-param-type">EventObject</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">min</td><td class="jsdoc-param-type">Number</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">max</td><td class="jsdoc-param-type">Number</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojox.drawing.util.common.degToRad"></a><span class="functionIcon">dojox.drawing.util.common.degToRad</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-return-type">Returns <strong>Number</strong></div><div class="jsdoc-summary">Convert the passed number to radians.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">n</td><td class="jsdoc-param-type">Numer</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.drawing.util.common.distance"></a><span class="functionIcon">dojox.drawing.util.common.distance</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-return-type">Returns <strong>Number</strong></div><div class="jsdoc-summary">Return the length derived from the coordinates
	in the Mouse object. Different from util.length
	in that this always returns an absolute value.</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojox.drawing.util.common.idSetStart"></a><span class="functionIcon">dojox.drawing.util.common.idSetStart</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">num</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.drawing.util.common.length"></a><span class="functionIcon">dojox.drawing.util.common.length</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-summary">Return the length derived from the coordinates
	in the Mouse object.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">o</td><td class="jsdoc-param-type">EventObject</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojox.drawing.util.common.lineSub"></a><span class="functionIcon">dojox.drawing.util.common.lineSub</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-return-type">Returns <strong>Object</strong></div><div class="jsdoc-summary"><p>x1,y1,x2,y2 represents the Line. 'amt' represents the amount
to subtract from it.</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">x1</td><td class="jsdoc-param-type">Number</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">y1</td><td class="jsdoc-param-type">Number</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">x2</td><td class="jsdoc-param-type">Number</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">y2</td><td class="jsdoc-param-type">Number</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">amt</td><td class="jsdoc-param-type">Number</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.drawing.util.common.mixin"></a><span class="functionIcon">dojox.drawing.util.common.mixin</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">o1</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">o2</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojox.drawing.util.common.oppAngle"></a><span class="functionIcon">dojox.drawing.util.common.oppAngle</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">ang</td><td class="jsdoc-param-type">Angle</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.drawing.util.common.pointOnCircle"></a><span class="functionIcon">dojox.drawing.util.common.pointOnCircle</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-summary">A *very* helpful method. If you know the center
	(or starting) point, length and angle, find the
	x,y point at the end of that line.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">cx</td><td class="jsdoc-param-type">Number</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">cy</td><td class="jsdoc-param-type">Number</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">radius</td><td class="jsdoc-param-type">Number</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">angle</td><td class="jsdoc-param-type">Number</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojox.drawing.util.common.radToDeg"></a><span class="functionIcon">dojox.drawing.util.common.radToDeg</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-return-type">Returns <strong>Number</strong></div><div class="jsdoc-summary">Convert the passed number to degrees.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">n</td><td class="jsdoc-param-type">Numer</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.drawing.util.common.radians"></a><span class="functionIcon">dojox.drawing.util.common.radians</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-summary">Return the radians derived from the coordinates
	in the Mouse object.
	var o = this.argsToObj.apply(this, arguments);</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">o</td><td class="jsdoc-param-type">EventObject</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojox.drawing.util.common.register"></a><span class="functionIcon">dojox.drawing.util.common.register</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-summary">Since util is the only Singleton in Drawing (besides
	keys) it is used to help connect the Drawing object
	the Toolbar. Since multiple drawings can be on one
	page, this function serves a little more use than
	on first apearance.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">obj</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.drawing.util.common.slope"></a><span class="functionIcon">dojox.drawing.util.common.slope</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-return-type">Returns <strong>Number</strong></div><div class="jsdoc-summary">Given two poits of a line, returns the slope.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">p1</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">p2</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojox.drawing.util.common.snapAngle"></a><span class="functionIcon">dojox.drawing.util.common.snapAngle</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-return-type">Returns <strong>Object</strong></div><div class="jsdoc-summary">Snaps a line to the nearest angle</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">obj</td><td class="jsdoc-param-type">EventObject</td><td class="jsdoc-param-description">Mouse object (see dojox.drawing.Mouse)</td></tr><tr><td class="jsdoc-param-name">ca</td><td class="jsdoc-param-type">Float</td><td class="jsdoc-param-description">Fractional amount to snap to
	A decimal number fraction of a half circle
	.5 would snap to 90 degrees
	.25  would snap to 45 degrees
	.125 would snap to 22.5 degrees, etc.</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.drawing.util.common.uid"></a><span class="functionIcon">dojox.drawing.util.common.uid</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/drawing/util/common">dojox.drawing.util.common</a></div><div class="jsdoc-return-type">Returns <strong>String</strong></div><div class="jsdoc-summary">Creates a unique ID.
	arguments:</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">str</td><td class="jsdoc-param-type">?</td><td class="jsdoc-param-description">String If provided, kept in a map, incremented
	and used in the id. Otherwise 'shape' is used.</td></tr></table></div></div></div>